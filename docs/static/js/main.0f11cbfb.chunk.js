(this.webpackJsonpvisualizer=this.webpackJsonpvisualizer||[]).push([[0],{225:function(e,t,n){e.exports=n(462)},462:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(9),o=n.n(r),l=n(61),u=n(186),c=n.n(u),d=n(123),s=n(11),m=function(e){return i.a.createElement(s.g,{width:e.width,height:e.height,data:e.data},i.a.createElement(s.i,{dataKey:e.xField}),i.a.createElement(s.j,{type:"number",domain:[0,function(){var t=e.data,n=e.lines.map((function(e){return e.field}));return Math.max.apply(Math,Object(d.a)(n.map((function(e){return Math.max.apply(Math,Object(d.a)(t.map((function(t){return t[e]}))))}))))}()]}),i.a.createElement(s.c,null),i.a.createElement(s.e,null),i.a.createElement(s.h,null),e.lines.map((function(e){return i.a.createElement(s.f,{key:e.field,type:e.type,dataKey:e.field,stroke:e.color,strokeWidth:e.strokeWidth})})))},f=function(e){var t=e.data.map((function(e){return e.value})).reduce((function(e,t){return e+t}),0),n=e.data.map((function(e){return e.percentage=(e.value/t*100).toFixed(2),e}));return i.a.createElement(s.d,{width:e.width,height:e.height,data:n,barSize:20},i.a.createElement(s.i,{dataKey:"name",scale:"point",padding:{left:2,right:2}}),i.a.createElement(s.j,null),i.a.createElement(s.h,null),i.a.createElement(s.c,null),i.a.createElement(s.b,{dataKey:"value",barSize:5,fill:"#82ca9d",background:{fill:"#eee"}}),i.a.createElement(s.a,{dataKey:"percentage",fill:"#8884d8",unit:"%"}))},h=n(195),p=n.n(h),v=n(200),g=n(201),E=(n(460),function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],r=n[1];return 0===i.length&&p.a.parse(e,{download:!0,header:!0,complete:function(e){var t=e.data.map((function(e){return e.data=e.data.substring(0,10),e})).filter((function(e){return""!==e.data}));r(t)}}),i}),w=function(){var e=Object(a.useState)("Lazio"),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(30),u=Object(l.a)(o,2),d=u[0],s=u[1],h=function(){var e=Object(a.useState)([0,0]),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(a.useLayoutEffect)((function(){var e=function(){return i([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}()[0]-30,p=function(e){var t=new Date;return t.setDate(t.getDate()-e),t.toISOString().split("T")[0]};return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,i.a.createElement("b",null,"Coronavisual")),i.a.createElement("hr",null),i.a.createElement("h3",null,"Soluzione: ",function(){var e=E("dati/nazione.csv"),t=e.map((function(e){return e.data})).sort().reverse()[0],n=e.filter((function(e){return e.data===t}))[0];return n?100*(1-n.totale_positivi/n.totale_casi):0}().toFixed(2),"%"),i.a.createElement("hr",null),i.a.createElement("div",null,i.a.createElement(v.a,{min:1,max:365,value:d,onChange:s}),i.a.createElement("h4",null,"Dati: ultimi ",d," giorni")),i.a.createElement("h3",null,"Italia: previsioni attivi prossimo mese"),i.a.createElement(m,{width:h,height:h/2,data:function(e,t){var n=E(e).filter((function(e){return e.data>=p(t)})).sort((function(e,t){return t.data>e.data?-1:1})).map((function(e,t,n){return e.previsione_positivi=t==n.length-1?e.totale_positivi:null,e})),a=n.map((function(e){return e.totale_positivi})).reduce((function(e,t,n,a){return(e*n+(t-a[n-1]))/(n+1)||0}),0),i=n[n.length-1]?new Date(n[n.length-1].data):new Date,r=n[n.length-1]?n[n.length-1].totale_positivi:0,o=function(e,t){var n=new Date(e);return n.setDate(e.getDate()+t),n};return Array.from(Array(30).keys()).map((function(e){return e+1})).forEach((function(e){n.push({data:o(i,e).toISOString().split("T")[0],previsione_positivi:Math.max(parseInt(r)+a*e,0).toFixed(0),totale_positivi:0==e?Math.max(parseInt(r)+a*e,0).toFixed(0):null})})),n}("dati/nazione.csv",d),xField:"data",lines:[{field:"totale_positivi",color:"#ff84d8",strokeWidth:2,type:"monotone"},{field:"previsione_positivi",color:"#1184d8",strokeWidth:2,type:"monotone"}]}),i.a.createElement("h3",null,"Italia: distribuzione nuovi casi ad oggi"),i.a.createElement(f,{width:h,height:h/2,data:function(e){var t=E(e),n=t.map((function(e){return e.data})).sort().reverse()[0],a=t.filter((function(e){return e.data===n}));return a||[]}("dati/regioni.csv").map((function(e){return{name:e.denominazione_regione,value:parseInt(e.nuovi_positivi)}})).sort((function(e,t){return t.value-e.value}))}),i.a.createElement("h3",null,"Italia: delta"),i.a.createElement(m,{width:h,height:h/2,data:E("dati/nazione.csv").filter((function(e){return e.data>=p(d)})),xField:"data",lines:[{field:"nuovi_risolti",color:"#8884d8",strokeWidth:2,type:"monotone"},{field:"nuovi_positivi",color:"#82ca9d",strokeWidth:2,type:"monotone"}]}),i.a.createElement("h3",null,"Italia: attivi"),i.a.createElement(m,{width:h,height:h/2,data:E("dati/nazione.csv").filter((function(e){return e.data>=p(d)})),xField:"data",lines:[{field:"totale_positivi",color:"#ff84d8",strokeWidth:2,type:"monotone"}]}),i.a.createElement("h3",null,"Italia: regioni"),i.a.createElement(g.a,{options:c()(E("dati/regioni.csv").map((function(e){return e.denominazione_regione}))).map((function(e){return{value:e,label:e}})),onChange:function(e){return r(e.value)},value:{label:n,value:n}}),i.a.createElement(m,{width:h,height:h/2,data:E("dati/regioni.csv").filter((function(e){return e.data>=p(d)})).filter((function(e){return e.denominazione_regione===n})),xField:"data",lines:[{field:"nuovi_risolti",color:"#8884d8",strokeWidth:2,type:"monotone"},{field:"nuovi_positivi",color:"#82ca9d",strokeWidth:2,type:"monotone"}]}))};n(461);o.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.0f11cbfb.chunk.js.map